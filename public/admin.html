<!doctype html>
<html lang="fa">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ادمین - XZ</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div style="display:flex;align-items:center;justify-content:center;height:100vh">
  <div class="panel" style="width:760px">
    <h3>پنل ادمین</h3>
    <p>برای مشاهدهٔ OTPها رمز را وارد کنید</p>
    <input id="pass" placeholder="رمز admin" style="width:100%;padding:10px;border-radius:8px">
    <button id="btn" class="action-btn" style="margin-top:8px">نمایش OTPها</button>
    <pre id="out" style="margin-top:12px;max-height:400px;overflow:auto;background:#fafafa;padding:10px;border-radius:6px"></pre>
  </div>
</div>
<script>
document.getElementById("btn").addEventListener("click", async ()=>{
  const pass = document.getElementById("pass").value.trim();
  const res = await fetch("/api/admin/otps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pass})});
  const data = await res.json();
  if(data && data !== null){
    document.getElementById("out").innerText = JSON.stringify(data, null, 2);
  } else {
    document.getElementById("out").innerText = "دسترسی رد شد";
  }
});
</script>
</body>
</html>
