<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>تایید OTP</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
<h2>کد ارسال شده را وارد کنید</h2>
<input id="otp" placeholder="کد ۴ رقمی">
<button onclick="verifyOtp()">تأیید</button>
<p id="msg"></p>
</div>
<script>
const urlParams=new URLSearchParams(window.location.search);
const phone=urlParams.get('phone');
async function verifyOtp(){
    const otp=document.getElementById('otp').value;
    const res=await fetch('/verify-otp',{method:'POST',
        headers:{'Content-Type':'application/json'},
        body:JSON.stringify({phone,otp})
    }).then(r=>r.json());
    if(res.success) window.location.href='login.html';
    else document.getElementById('msg').innerText="کد اشتباه است!";
}
</script>
</body>
</html>
